# High-School-Minesweeper-2022-2023
(Minesweeper)

(Brendan Tang)
<!--(Your partner's name) --> 
(Greg Peng)
<!--Instructions: Explain what your project is, what it does, and how to use it.
-->
<!--(The rules of the game needed to code it) -->
1) How Minesweeper works: 

    Rules:
        A) Minesweeper is a game with many tiles/cells, where a few of them of them contain mines. Each cell either has a number (amount of mines it's bordering within the 8 cell radius), is an empty space (has 0 cells next to it), or has a mine.
        B) If the user clicks on a cell with a mine in it, the loser will lose. If the user clicks on a cell with a number in it,
        C) the number will be displayed. If the user will clicks on a cell with an empty space, all nearby empty spaces will be revealed.
        D) If the user thinks that a cell is a mine, they can "flag" it, in which if they successfully flag all the mines they will win (and at the same time reveal all the tiles)
         E)During the first click, the user cannot die. The first clicked space and surrounding 8 spaces CANNOT be mines(they have to either be numbers or empty spaces). IN ADDITION to this the number cells that are right next to the empty cells, called "edge" cells, have to be revealed as well.

    THE HARD PARTS WE NEEDED TO DO WHILE CODING (how we solved them will be explained below):

    The first click:
        A) You have to generate the board, mines, and numbers AFTER the first click BECAUSE you cannot die immediately
        B) You have to use a floodfill algorithm (explained later) to make it so that ALL the empty cells NEARBY as WELL as "edge" cells

    Have a way to interact with the grid WHILE using it to figure out how to code the First Click + any addition clicks on "empty" cells
        A) in the original Minesweeper, you would directly click on the board to either flag or click on a cell
        B) To make this compatible with coding rooms, we made coordinate system where you would need input an X and a Y coordinate.
        C) The issue is that since each "cell" had two numbers in it, it was impossible to put into an array list (as needed by floodfill algorithm) UNLESS we made a new class called Cell, and had an arraylist of the form "cell" (rather than string)

    Figure out how to create the board:
        A) we needed a way to display the "hidden" board, while at the same time having a REAL board that kept track of where mines where

    Generating the type of tile:
        A) Needed a way to reliably get a ratio of 1 mine per 10 cells
        B) Needed a way to figure out the number of the tile by checking the amount of adjacent mines
.

2) Interface and Interactivity:

    We decided to do a text based interface for Minesweeper because we felt a complicated GUI wasn't needed. We used "." to abbreviate a hidden tile, a " " (empty space) for a 0 cell, and a "*" for a mine.

    We had several inputs in main.java:

    1) The user is first asked which level they want
        A) Each level increase has an extra 5 rows & cols, and a ratio of 1 mine to 10 tiles accordingly
    2) The user is then asked what move they want to make 
        A) Given an option between "click", "flag", or "quit"
            1) if click, user chooses the row and the col of cell to reveal 
            2) if flag, user chooses row and col of cell to flag
            3) Quit exits the game
    3) Conditions for winning/losing:
        A) Win if all cells are revealed
        B) Lose if mine is revealed 


3) The logic behind our code:

While we thought Minesweeper would be a simple 2D array to create, many challenges stood along the way. Here's how we tackled them:

    Problem 1: We needed to figure out a way for the user to interact with the board

    Adequately explained above.

    Problem 2: Figuring how to create the board:

    We made three boards, one "hidden" board with the actual information, one "display" board that in which we would "reveal" a cell to when the user clicked on it (in which case we made the display board coordinate = to the hidden board coordinate)
    and a "preboard" purely for asthetic purposes (before the board was created, since we needed to create board only after first click) 

    Problem 3: Generating the type of tile:

    To generate mines: We used a probability method to randomly generate which tiles would be mines by doing total mines/amount of tiles multiplied by the amount of mines, and if 10 mines weren't generated by the last few spaces, the board would automatically fill them with mines
        We also set a rule that the immediate 9 tiles around the first click could not be mines.

    To generate number: Made bunch of 8 if statements of adjacent cells, in which if nearby cell was a mine we would add 1 to the current number of mines. Total mines = number

    Problem 4: Figuring out how to reveal empty cells enmass (after first click or subsequent clicks)

        Had a lot of trouble with this. Asked Nate Breslow, in which he suggested a "Floodfill" algorithm.

        Here's how it works:      
            We check the adjacent 4 cells, and put them in a cellsToSearch arraylist. We initially had an infinite loop where it would readd the cells already searched to the cellsToSearch, so we needed a "zeroCells" arraylist in which all cells searched would be added to it, and if a cell that cellsToSearch finds is already there, it will not check it. I then revealed all the zerocells as well as cells adjacent to it (edgecells)

        Why it was a pain to make and why there are so many .getcontents & .setcontents:
            We needed to make a "cell" class (and replaced string with cell) because declaring a cell and putting it in an array list
            (without making the class) would cause it to not be able to differentiate the different cells by the x, y coordinates inside it.
            Therefore we needed to declare a class of "cell" to put it in an arraylist, and in doing so we needed to change our type in the entire code from string to cell methods (shown by .getcontents and .set contents)
            .getcontent gets the content and .setcontent changes the content


